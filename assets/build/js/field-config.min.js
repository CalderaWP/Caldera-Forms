function Caldera_Forms_Field_Config(a,b,c){function d(a,b,c,d){var g=b.parent().parent();return g.removeClass("has-error"),g.find(".help-block").remove(),a?(g.removeClass("has-error"),f(),!0):(g.addClass("has-error").append('<span id="cf-error-'+b.attr("id")+'" class="help-block '+d+'">'+c+"</span>"),b.prop("required")&&e(),b.addClass("parsely-error"),!1)}function e(){j.prop("disabled",!0).attr("aria-disabled",!0)}function f(){j.prop("disabled",!1).attr("aria-disabled",!1)}var g=this,h={},i=b.data("instance"),j=b.find(":submit, .cf-page-btn-next");this.init=function(){c.each(a,function(a,b){h[b.id]=g[b.type](b)})},this.button=function(a){var b=a.id;c(document).on("click dblclick","#"+b,function(a){c("#"+b+"_btn").val(a.type).trigger("change")})},this.html=function(a){function d(){void 0==f[a.tmplId]&&(f[a.tmplId]=c(document.getElementById(a.tmplId)).html());for(var d=f[a.tmplId],e=c(document.getElementById(a.contentId)),j=0;j<g.length;j++){var k=b.find('[data-field="'+g[j]+'"]'),l=[];k.length||(k=b.find('[data-field="'+g[j]+"_"+i+'"]')),k.length&&h.push(k);for(var m=0;m<k.length;m++)if(!c(k[m]).is(":radio,:checkbox")||c(k[m]).prop("checked"))if(c(k[m]).is("input:file")){var n=k[m].value.split("\\");l.push(n[n.length-1])}else k[m].value&&l.push(k[m].value);l=l.join(", "),"string"==typeof l&&(l=l.replace(/(?:\r\n|\r|\n)/g,"<br />")),d=d.replace(new RegExp("{{"+g[j]+"}}","g"),l)}e.html(d).trigger("change")}function e(){h.forEach(function(a){a.on("click keyup change",d)})}if(0!=a.sync){var f={},g=a.binds,h=[];c(document).on("cf.pagenav cf.add cf.disable",function(){e()}),d(),e()}},this.summary=this.html;var k={};this.range_slider=function(a){var b=c(document.getElementById(a.id));b.on("change",function(){c("#"+a.id+"_value").html(this.value),k[a.id].value=this.value}).css("width","100%"),c(document).on("cf.pagenav cf.add cf.disable cf.modal",function(){var b=document.getElementById(a.id);if(null!=b){var d=c(b),e=!1,f=d.val();if(!d.is(":visible"))return;k[a.id].inited&&(e=!0),d.rangeslider("destroy"),d.rangeslider(k[a.id].init),e?d.val(f).change():d.val(a.default).change()}}),function(){"object"!=k[a.id]&&(k[a.id]={value:a.default,init:{},inited:!1});var d={onSlide:function(d,e){b.is(":visible")&&k[a.id].inited&&(k[a.id].value=e,e=e.toFixed(a.value),c("#"+a.id+"_value").html(e))},onInit:function(){b.is(":visible")&&(k[a.id].inited=!0,this.value=k[a.id].value,b.parent().find(".rangeslider").css("backgroundColor",a.trackcolor),b.parent().find(".rangeslider__fill").css("backgroundColor",a.color),b.parent().find(".rangeslider__handle").css("backgroundColor",a.handle).css("borderColor",a.handleborder))},polyfill:!1};b.rangeslider(d),k[a.id].init=d}()},this.star_rating=function(a){var b=a.options.score,d=c(document.getElementById(a.starFieldId)),e=(c(document.getElementById(a.id)),function(){var c=a.options;c.click=function(){b=d.raty("score"),d.trigger("change")},d.raty(c),d.raty("score",b)});e();var f=!1;jQuery(document).on("cf.add",function(){!1===f&&(f=!0,d.length&&(d.raty("destroy"),e()),setTimeout(function(){f=!1},500))})},this.toggle_switch=function(a){c(document).on("reset","#"+a.id,function(b){c.each(a.options,function(b,d){c(document.getElemenetById(d)).removeClass(a.selectedClassName).addClass(a.defaultClassName)}),c(document.getElementById(a.id)).prop("checked","")})},this.phone_better=function(a){var e=c(document.getElementById(a.id)),f=function(){var b=document.getElementById("cf-error-"+a.id);null!=b&&b.remove()},g=function(){f();var b;c.trim(e.val())&&(b=!!e.intlTelInput("isValidNumber"));var g,h=e.intlTelInput("getValidationError");return 0==h?(b=!0,g=""):g="undefined"!=a.messages[h]?a.messages[h]:a.messages.generic,d(b,e,g,"help-block-phone_better"),b},h=function(){e.length||(e=c(document.getElementById(a.id))),e.intlTelInput(a.options),e.on("keyup change",f),e.blur(function(){f(),g()}),e.on("change",g),b.on("submit",function(){g()})};c(document).on("cf.pagenav cf.add cf.disable cf.modal",h),h()},this.wysiwyg=function(a){var b=document.getElementById(a.id);if(null!=b){var d=c(b);d.trumbowyg(a.options);var e=d.parent().find(".trumbowyg-editor");e.html(d.html()),e.bind("input propertychange",function(){d.html(e.html())})}},this.credit_card_number=function(a){function b(b){var d={0:"amex",1:"discover",2:"visa",3:"discover",4:"mastercard"},e="credit-card.svg";c.each(d,function(a,c){if(0===b.indexOf(c))return e="cc-"+c+".svg",!1}),f.css("background",'url("'+a.imgPath+e+'")')}var f=c(document.getElementById(a.id));0==a.exp&&0==a.cvc||function(){e();var b=c(document.getElementById(a.cvc)),d=c(document.getElementById(a.exp));b.blur(function(){b.val()&&g.creditCardUtil.validateCVC(f,b),d.val()&&g.creditCardUtil.validateExp(d)})}(),f.length&&(f.payment("formatCardNumber"),f.blur(function(){var e=f.val(),g=c.payment.validateCardNumber(e),h=c.payment.cardType(e);d(g,f,a.invalid,"help-block-credit_card_number help-block-credit_card"),g&&b(h)}))},this.credit_card_exp=function(a){var b=c(document.getElementById(a.id));b.length&&(b.payment("formatCardExpiry"),b.blur(function(){d(g.creditCardUtil.validateExp(b),b,a.invalid,"help-block-credit_card_exp help-block-credit_card")}))},this.credit_card_cvc=function(a){var b=c(document.getElementById(a.id));if(b.length&&(b.payment("formatCardCVC"),!1!==a.ccField)){var e=c(document.getElementById(a.ccField));b.blur(function(){d(g.creditCardUtil.validateExp(e,b),b,a.invalid,"help-block-credit_card_cvc help-block-credit_card")})}},this.creditCardUtil={validateCVC:function(a,b){var d=b.val(),e=c.payment.validateCardNumber(a.val()),f=!1;if(e){var g=c.payment.cardType(a.val());f=c.payment.validateCardCVC(d,g)}return f},validateExp:function(a){var b=a.val().split("/");if(b&&2==b.length)return c.payment.validateCardExpiry(b[0].trim(),b[1].trim())}},this.color_picker=function(a){c(document.getElementById(a.id)).miniColors(a.settings),c(document).on("cf.pagenav cf.add cf.disable cf.modal",function(){c(document.getElementById(a.id)).miniColors(a.settings)})}}